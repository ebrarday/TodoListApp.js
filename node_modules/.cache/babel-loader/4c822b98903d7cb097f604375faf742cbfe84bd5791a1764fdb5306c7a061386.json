{"ast":null,"code":"import _slicedToArray from\"C:/Users/lionKing/Desktop/todo-list-app-main/todo-list-app-main/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{doc,updateDoc}from\"firebase/firestore\";import{useContext,useEffect,useState}from\"react\";import{TodoContext}from\"../../contexts/TodoContext\";import{database}from\"../../firebaseConfig\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export var EditTodo=function EditTodo(_ref){var todoId=_ref.todoId,successfulEdit=_ref.successfulEdit;var _useState=useState(''),_useState2=_slicedToArray(_useState,2),err=_useState2[0],setErr=_useState2[1];var _useContext=useContext(TodoContext),todos=_useContext.todos;var currentTodo=todos.find(function(todo){return todo.id===todoId;});var _useState3=useState(currentTodo.title),_useState4=_slicedToArray(_useState3,2),input=_useState4[0],setInput=_useState4[1];useEffect(function(){setInput(currentTodo.title);},[currentTodo.title]);var onEditTodo=function onEditTodo(e){e.preventDefault();if(input===''){setErr('Please add valid todo!');return;}if(input.length>25){setErr('Todo must be less then 25 characters!');return;}updateDoc(doc(database,'todos',todoId),{title:input}).then(function(){successfulEdit();}).catch(function(err){setErr(err.message);});};return/*#__PURE__*/_jsxs(\"section\",{className:\"add__todo\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"ToDo App\"}),/*#__PURE__*/_jsxs(\"form\",{className:\"add__todo__form\",onSubmit:onEditTodo,children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"todo\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"todo\",name:\"todo\",value:input,onChange:function onChange(e){return setInput(e.target.value);}}),/*#__PURE__*/_jsx(\"button\",{className:\"add__todo__btn\",children:\"Edit Task\"}),/*#__PURE__*/_jsx(\"p\",{className:\"errors\",children:err})]})]});};","map":{"version":3,"names":["doc","updateDoc","useContext","useEffect","useState","TodoContext","database","EditTodo","todoId","successfulEdit","err","setErr","todos","currentTodo","find","todo","id","title","input","setInput","onEditTodo","e","preventDefault","length","then","catch","message","target","value"],"sources":["C:/Users/lionKing/Desktop/todo-list-app-main/todo-list-app-main/src/components/todos/EditTodo.js"],"sourcesContent":["import { doc, updateDoc } from \"firebase/firestore\";\nimport { useContext, useEffect, useState } from \"react\";\nimport { TodoContext } from \"../../contexts/TodoContext\";\nimport { database } from \"../../firebaseConfig\";\n\nexport const EditTodo = ({ todoId, successfulEdit }) => {\n    const [err, setErr] = useState('');\n    const { todos } = useContext(TodoContext);\n    const currentTodo = todos.find(todo => todo.id === todoId);\n    const [input, setInput] = useState(currentTodo.title);\n\n    useEffect(() => {\n        setInput(currentTodo.title)\n    }, [currentTodo.title]);\n\n    const onEditTodo = (e) => {\n        e.preventDefault();\n\n        if (input === '') {\n            setErr('Please add valid todo!');\n            return;\n        }\n\n        if (input.length > 25) {\n            setErr('Todo must be less then 25 characters!');\n            return;\n        }\n\n        updateDoc(doc(database, 'todos', todoId), {\n            title: input\n        })\n            .then(() => {\n                successfulEdit();\n            })\n            .catch((err) => {\n                setErr(err.message);\n            })\n    }\n\n    return (\n        <section className=\"add__todo\">\n            <h1>ToDo App</h1>\n            <form className=\"add__todo__form\" onSubmit={onEditTodo}>\n                <label htmlFor=\"todo\"></label>\n                <input type=\"text\"\n                    id=\"todo\"\n                    name=\"todo\"\n                    value={input}\n                    onChange={(e) => setInput(e.target.value)} />\n                <button className=\"add__todo__btn\">Edit Task</button>\n                <p className=\"errors\">{err}</p>\n            </form>\n        </section>\n    );\n}"],"mappings":"qJAAA,OAASA,GAAG,CAAEC,SAAS,KAAQ,oBAAoB,CACnD,OAASC,UAAU,CAAEC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CACvD,OAASC,WAAW,KAAQ,4BAA4B,CACxD,OAASC,QAAQ,KAAQ,sBAAsB,CAAC,wFAEhD,MAAO,IAAMC,SAAQ,CAAG,QAAXA,SAAQ,MAAmC,IAA7BC,OAAM,MAANA,MAAM,CAAEC,cAAc,MAAdA,cAAc,CAC7C,cAAsBL,QAAQ,CAAC,EAAE,CAAC,wCAA3BM,GAAG,eAAEC,MAAM,eAClB,gBAAkBT,UAAU,CAACG,WAAW,CAAC,CAAjCO,KAAK,aAALA,KAAK,CACb,GAAMC,YAAW,CAAGD,KAAK,CAACE,IAAI,CAAC,SAAAC,IAAI,QAAIA,KAAI,CAACC,EAAE,GAAKR,MAAM,GAAC,CAC1D,eAA0BJ,QAAQ,CAACS,WAAW,CAACI,KAAK,CAAC,yCAA9CC,KAAK,eAAEC,QAAQ,eAEtBhB,SAAS,CAAC,UAAM,CACZgB,QAAQ,CAACN,WAAW,CAACI,KAAK,CAAC,CAC/B,CAAC,CAAE,CAACJ,WAAW,CAACI,KAAK,CAAC,CAAC,CAEvB,GAAMG,WAAU,CAAG,QAAbA,WAAU,CAAIC,CAAC,CAAK,CACtBA,CAAC,CAACC,cAAc,EAAE,CAElB,GAAIJ,KAAK,GAAK,EAAE,CAAE,CACdP,MAAM,CAAC,wBAAwB,CAAC,CAChC,OACJ,CAEA,GAAIO,KAAK,CAACK,MAAM,CAAG,EAAE,CAAE,CACnBZ,MAAM,CAAC,uCAAuC,CAAC,CAC/C,OACJ,CAEAV,SAAS,CAACD,GAAG,CAACM,QAAQ,CAAE,OAAO,CAAEE,MAAM,CAAC,CAAE,CACtCS,KAAK,CAAEC,KACX,CAAC,CAAC,CACGM,IAAI,CAAC,UAAM,CACRf,cAAc,EAAE,CACpB,CAAC,CAAC,CACDgB,KAAK,CAAC,SAACf,GAAG,CAAK,CACZC,MAAM,CAACD,GAAG,CAACgB,OAAO,CAAC,CACvB,CAAC,CAAC,CACV,CAAC,CAED,mBACI,iBAAS,SAAS,CAAC,WAAW,wBAC1B,gCAAiB,cACjB,cAAM,SAAS,CAAC,iBAAiB,CAAC,QAAQ,CAAEN,UAAW,wBACnD,cAAO,OAAO,CAAC,MAAM,EAAS,cAC9B,cAAO,IAAI,CAAC,MAAM,CACd,EAAE,CAAC,MAAM,CACT,IAAI,CAAC,MAAM,CACX,KAAK,CAAEF,KAAM,CACb,QAAQ,CAAE,kBAACG,CAAC,QAAKF,SAAQ,CAACE,CAAC,CAACM,MAAM,CAACC,KAAK,CAAC,EAAC,EAAG,cACjD,eAAQ,SAAS,CAAC,gBAAgB,uBAAmB,cACrD,UAAG,SAAS,CAAC,QAAQ,UAAElB,GAAG,EAAK,GAC5B,GACD,CAElB,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}