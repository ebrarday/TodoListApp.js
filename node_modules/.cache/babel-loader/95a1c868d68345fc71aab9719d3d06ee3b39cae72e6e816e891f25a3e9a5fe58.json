{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\lionKing\\\\Desktop\\\\todo-list-app-main\\\\todo-list-app-main\\\\src\\\\components\\\\todos\\\\DeleteTasks.js\",\n  _s = $RefreshSig$();\nimport { deleteDoc, doc } from \"firebase/firestore\";\nimport { useContext } from \"react\";\nimport { AuthContext } from \"../../contexts/AuthContext\";\nimport { TodoContext } from \"../../contexts/TodoContext\";\nimport { database } from \"../../firebaseConfig\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const DeleteTasks = () => {\n  _s();\n  const {\n    todos\n  } = useContext(TodoContext);\n  const {\n    loggedUser\n  } = useContext(AuthContext);\n  const allTasks = todos.filter(todo => todo.uid === (loggedUser === null || loggedUser === void 0 ? void 0 : loggedUser.uid));\n  const allIds = allTasks.map(todo => {\n    return todo.id;\n  });\n  const doneTasks = todos.filter(todo => todo.uid === (loggedUser === null || loggedUser === void 0 ? void 0 : loggedUser.uid) && todo.checked === true);\n  const doneIds = doneTasks.map(todo => {\n    return todo.id;\n  });\n  const deleteDoneTasks = async () => {\n    try {\n      for (let id of doneIds) {\n        await deleteDoc(doc(database, 'todos', id));\n      }\n    } catch (error) {\n      alert(error.message);\n    }\n  };\n  const deleteAllTasks = async () => {\n    try {\n      for (let id of allIds) {\n        await deleteDoc(doc(database, 'todos', id));\n      }\n    } catch (error) {\n      alert(error.message);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"section\", {\n    className: \"delete__tasks\",\n    children: [/*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: deleteDoneTasks,\n      children: \"Delete done tasks\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: deleteAllTasks,\n      children: \"Delete all tasks\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 44,\n    columnNumber: 9\n  }, this);\n};\n_s(DeleteTasks, \"Hiho57ajJLmaax4I39KIGOxA9Ww=\");\n_c = DeleteTasks;\nvar _c;\n$RefreshReg$(_c, \"DeleteTasks\");","map":{"version":3,"names":["deleteDoc","doc","useContext","AuthContext","TodoContext","database","DeleteTasks","todos","loggedUser","allTasks","filter","todo","uid","allIds","map","id","doneTasks","checked","doneIds","deleteDoneTasks","error","alert","message","deleteAllTasks"],"sources":["C:/Users/lionKing/Desktop/todo-list-app-main/todo-list-app-main/src/components/todos/DeleteTasks.js"],"sourcesContent":["import { deleteDoc, doc } from \"firebase/firestore\";\nimport { useContext } from \"react\";\nimport { AuthContext } from \"../../contexts/AuthContext\";\nimport { TodoContext } from \"../../contexts/TodoContext\";\nimport { database } from \"../../firebaseConfig\";\n\nexport const DeleteTasks = () => {\n    const { todos } = useContext(TodoContext);\n    const { loggedUser } = useContext(AuthContext);\n\n    const allTasks = todos.filter(todo => todo.uid === loggedUser?.uid);\n    const allIds = allTasks.map((todo) => {\n        return todo.id\n    });\n\n    const doneTasks = todos.filter(todo => todo.uid === loggedUser?.uid && todo.checked === true);\n    const doneIds = doneTasks.map((todo) => {\n        return todo.id\n    });\n\n    const deleteDoneTasks = async () => {\n        try {\n            for (let id of doneIds) {\n                await deleteDoc(doc(database, 'todos', id));\n            }\n        } catch (error) {\n            alert(error.message)\n        }\n\n    }\n\n    const deleteAllTasks = async () => {\n        try {\n            for (let id of allIds) {\n                await deleteDoc(doc(database, 'todos', id));\n            }\n        } catch (error) {\n            alert(error.message);\n        }\n        \n    }\n\n    return (\n        <section className=\"delete__tasks\">\n            <button onClick={deleteDoneTasks}>Delete done tasks</button>\n            <button onClick={deleteAllTasks}>Delete all tasks</button>\n        </section>\n    );\n}"],"mappings":";;AAAA,SAASA,SAAS,EAAEC,GAAG,QAAQ,oBAAoB;AACnD,SAASC,UAAU,QAAQ,OAAO;AAClC,SAASC,WAAW,QAAQ,4BAA4B;AACxD,SAASC,WAAW,QAAQ,4BAA4B;AACxD,SAASC,QAAQ,QAAQ,sBAAsB;AAAC;AAEhD,OAAO,MAAMC,WAAW,GAAG,MAAM;EAAA;EAC7B,MAAM;IAAEC;EAAM,CAAC,GAAGL,UAAU,CAACE,WAAW,CAAC;EACzC,MAAM;IAAEI;EAAW,CAAC,GAAGN,UAAU,CAACC,WAAW,CAAC;EAE9C,MAAMM,QAAQ,GAAGF,KAAK,CAACG,MAAM,CAACC,IAAI,IAAIA,IAAI,CAACC,GAAG,MAAKJ,UAAU,aAAVA,UAAU,uBAAVA,UAAU,CAAEI,GAAG,EAAC;EACnE,MAAMC,MAAM,GAAGJ,QAAQ,CAACK,GAAG,CAAEH,IAAI,IAAK;IAClC,OAAOA,IAAI,CAACI,EAAE;EAClB,CAAC,CAAC;EAEF,MAAMC,SAAS,GAAGT,KAAK,CAACG,MAAM,CAACC,IAAI,IAAIA,IAAI,CAACC,GAAG,MAAKJ,UAAU,aAAVA,UAAU,uBAAVA,UAAU,CAAEI,GAAG,KAAID,IAAI,CAACM,OAAO,KAAK,IAAI,CAAC;EAC7F,MAAMC,OAAO,GAAGF,SAAS,CAACF,GAAG,CAAEH,IAAI,IAAK;IACpC,OAAOA,IAAI,CAACI,EAAE;EAClB,CAAC,CAAC;EAEF,MAAMI,eAAe,GAAG,YAAY;IAChC,IAAI;MACA,KAAK,IAAIJ,EAAE,IAAIG,OAAO,EAAE;QACpB,MAAMlB,SAAS,CAACC,GAAG,CAACI,QAAQ,EAAE,OAAO,EAAEU,EAAE,CAAC,CAAC;MAC/C;IACJ,CAAC,CAAC,OAAOK,KAAK,EAAE;MACZC,KAAK,CAACD,KAAK,CAACE,OAAO,CAAC;IACxB;EAEJ,CAAC;EAED,MAAMC,cAAc,GAAG,YAAY;IAC/B,IAAI;MACA,KAAK,IAAIR,EAAE,IAAIF,MAAM,EAAE;QACnB,MAAMb,SAAS,CAACC,GAAG,CAACI,QAAQ,EAAE,OAAO,EAAEU,EAAE,CAAC,CAAC;MAC/C;IACJ,CAAC,CAAC,OAAOK,KAAK,EAAE;MACZC,KAAK,CAACD,KAAK,CAACE,OAAO,CAAC;IACxB;EAEJ,CAAC;EAED,oBACI;IAAS,SAAS,EAAC,eAAe;IAAA,wBAC9B;MAAQ,OAAO,EAAEH,eAAgB;MAAA;IAAA;MAAA;MAAA;MAAA;IAAA,QAA2B,eAC5D;MAAQ,OAAO,EAAEI,cAAe;MAAA;IAAA;MAAA;MAAA;MAAA;IAAA,QAA0B;EAAA;IAAA;IAAA;IAAA;EAAA,QACpD;AAElB,CAAC;AAAA,GA1CYjB,WAAW;AAAA,KAAXA,WAAW;AAAA;AAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}