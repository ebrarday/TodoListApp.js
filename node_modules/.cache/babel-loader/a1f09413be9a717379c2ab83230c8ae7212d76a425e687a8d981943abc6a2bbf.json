{"ast":null,"code":"import _slicedToArray from\"C:/Users/lionKing/Desktop/todo-list-app-main/todo-list-app-main/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{browserLocalPersistence,createUserWithEmailAndPassword,setPersistence}from\"firebase/auth\";import{doc,setDoc}from\"firebase/firestore\";import{useState}from\"react\";import{Link,useNavigate}from\"react-router-dom\";import{auth,database}from\"../../firebaseConfig\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export var Register=function Register(){var _useState=useState(''),_useState2=_slicedToArray(_useState,2),err=_useState2[0],setErr=_useState2[1];var navigate=useNavigate();var onRegister=function onRegister(e){e.preventDefault();var formData=new FormData(e.target);var email=formData.get('email');var password=formData.get('password');var repeatPassword=formData.get('repeatPassword');if(email===''||password===''||repeatPassword===''){setErr('Please fill all fields!');return;}if(password!==repeatPassword){setErr('Password and confirmation password dont match');return;}setPersistence(auth,browserLocalPersistence).then(function(){createUserWithEmailAndPassword(auth,email,password).then(function(res){setDoc(doc(database,'users',res.user.uid),{email:email,uid:res.user.uid});navigate('/todos');}).catch(function(err){setErr(err.message);});});};return/*#__PURE__*/_jsxs(\"div\",{className:\"auth\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"auth__container\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"ToDo List\"}),/*#__PURE__*/_jsxs(\"form\",{className:\"auth__form\",onSubmit:onRegister,children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"email\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Email\",id:\"email\",name:\"email\"}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"password\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",placeholder:\"Password\",id:\"password\",name:\"password\"}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"repeatPassword\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",placeholder:\"Repeat Password\",id:\"repeatPassword\",name:\"repeatPassword\"}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"Register\"}),/*#__PURE__*/_jsx(\"p\",{className:\"errors\",children:err})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"auth__action\",children:[/*#__PURE__*/_jsx(\"p\",{children:\"Have an account?\"}),/*#__PURE__*/_jsx(Link,{to:\"/\",children:\"Log in\"})]})]});};","map":{"version":3,"names":["browserLocalPersistence","createUserWithEmailAndPassword","setPersistence","doc","setDoc","useState","Link","useNavigate","auth","database","Register","err","setErr","navigate","onRegister","e","preventDefault","formData","FormData","target","email","get","password","repeatPassword","then","res","user","uid","catch","message"],"sources":["C:/Users/lionKing/Desktop/todo-list-app-main/todo-list-app-main/src/components/auth/Register.js"],"sourcesContent":["import { browserLocalPersistence, createUserWithEmailAndPassword, setPersistence } from \"firebase/auth\";\nimport { doc, setDoc } from \"firebase/firestore\";\nimport { useState } from \"react\";\nimport { Link, useNavigate } from \"react-router-dom\";\nimport { auth, database } from \"../../firebaseConfig\";\n\nexport const Register = () => {\n    const [err, setErr] = useState('');\n    const navigate = useNavigate();\n\n    const onRegister = (e) => {\n        e.preventDefault();\n\n        const formData = new FormData(e.target);\n\n        const email = formData.get('email');\n        const password = formData.get('password');\n        const repeatPassword = formData.get('repeatPassword');\n\n        if (email === '' || password === '' || repeatPassword === '') {\n            setErr('Please fill all fields!');\n            return;\n        }\n\n        if (password !== repeatPassword) {\n            setErr('Password and confirmation password dont match');\n            return;\n        }\n\n        setPersistence(auth, browserLocalPersistence)\n            .then(() => {\n                createUserWithEmailAndPassword(auth, email, password)\n                    .then((res) => {\n                        setDoc(doc(database, 'users', res.user.uid), {\n                            email,\n                            uid: res.user.uid\n                        });\n                        navigate('/todos');\n                    })\n                    .catch((err) => {\n                        setErr(err.message);\n                    })\n            })\n    }\n\n    return (\n        <div className=\"auth\">\n            <div className=\"auth__container\">\n                <h1>ToDo List</h1>\n                <form className=\"auth__form\" onSubmit={onRegister}>\n                    <label htmlFor=\"email\" />\n                    <input type=\"text\" placeholder=\"Email\" id=\"email\" name=\"email\" />\n                    <label htmlFor=\"password\" />\n                    <input\n                        type=\"password\"\n                        placeholder=\"Password\"\n                        id=\"password\"\n                        name=\"password\"\n                    />\n                    <label htmlFor=\"repeatPassword\" />\n                    <input\n                        type=\"password\"\n                        placeholder=\"Repeat Password\"\n                        id=\"repeatPassword\"\n                        name=\"repeatPassword\"\n                    />\n                    <button type=\"submit\">Register</button>\n                    <p className=\"errors\">{err}</p>\n                </form>\n            </div>\n            <div className=\"auth__action\">\n                <p>Have an account?</p>\n                <Link to=\"/\">Log in</Link>\n            </div>\n        </div>\n    );\n}"],"mappings":"qJAAA,OAASA,uBAAuB,CAAEC,8BAA8B,CAAEC,cAAc,KAAQ,eAAe,CACvG,OAASC,GAAG,CAAEC,MAAM,KAAQ,oBAAoB,CAChD,OAASC,QAAQ,KAAQ,OAAO,CAChC,OAASC,IAAI,CAAEC,WAAW,KAAQ,kBAAkB,CACpD,OAASC,IAAI,CAAEC,QAAQ,KAAQ,sBAAsB,CAAC,wFAEtD,MAAO,IAAMC,SAAQ,CAAG,QAAXA,SAAQ,EAAS,CAC1B,cAAsBL,QAAQ,CAAC,EAAE,CAAC,wCAA3BM,GAAG,eAAEC,MAAM,eAClB,GAAMC,SAAQ,CAAGN,WAAW,EAAE,CAE9B,GAAMO,WAAU,CAAG,QAAbA,WAAU,CAAIC,CAAC,CAAK,CACtBA,CAAC,CAACC,cAAc,EAAE,CAElB,GAAMC,SAAQ,CAAG,GAAIC,SAAQ,CAACH,CAAC,CAACI,MAAM,CAAC,CAEvC,GAAMC,MAAK,CAAGH,QAAQ,CAACI,GAAG,CAAC,OAAO,CAAC,CACnC,GAAMC,SAAQ,CAAGL,QAAQ,CAACI,GAAG,CAAC,UAAU,CAAC,CACzC,GAAME,eAAc,CAAGN,QAAQ,CAACI,GAAG,CAAC,gBAAgB,CAAC,CAErD,GAAID,KAAK,GAAK,EAAE,EAAIE,QAAQ,GAAK,EAAE,EAAIC,cAAc,GAAK,EAAE,CAAE,CAC1DX,MAAM,CAAC,yBAAyB,CAAC,CACjC,OACJ,CAEA,GAAIU,QAAQ,GAAKC,cAAc,CAAE,CAC7BX,MAAM,CAAC,+CAA+C,CAAC,CACvD,OACJ,CAEAV,cAAc,CAACM,IAAI,CAAER,uBAAuB,CAAC,CACxCwB,IAAI,CAAC,UAAM,CACRvB,8BAA8B,CAACO,IAAI,CAAEY,KAAK,CAAEE,QAAQ,CAAC,CAChDE,IAAI,CAAC,SAACC,GAAG,CAAK,CACXrB,MAAM,CAACD,GAAG,CAACM,QAAQ,CAAE,OAAO,CAAEgB,GAAG,CAACC,IAAI,CAACC,GAAG,CAAC,CAAE,CACzCP,KAAK,CAALA,KAAK,CACLO,GAAG,CAAEF,GAAG,CAACC,IAAI,CAACC,GAClB,CAAC,CAAC,CACFd,QAAQ,CAAC,QAAQ,CAAC,CACtB,CAAC,CAAC,CACDe,KAAK,CAAC,SAACjB,GAAG,CAAK,CACZC,MAAM,CAACD,GAAG,CAACkB,OAAO,CAAC,CACvB,CAAC,CAAC,CACV,CAAC,CAAC,CACV,CAAC,CAED,mBACI,aAAK,SAAS,CAAC,MAAM,wBACjB,aAAK,SAAS,CAAC,iBAAiB,wBAC5B,iCAAkB,cAClB,cAAM,SAAS,CAAC,YAAY,CAAC,QAAQ,CAAEf,UAAW,wBAC9C,cAAO,OAAO,CAAC,OAAO,EAAG,cACzB,cAAO,IAAI,CAAC,MAAM,CAAC,WAAW,CAAC,OAAO,CAAC,EAAE,CAAC,OAAO,CAAC,IAAI,CAAC,OAAO,EAAG,cACjE,cAAO,OAAO,CAAC,UAAU,EAAG,cAC5B,cACI,IAAI,CAAC,UAAU,CACf,WAAW,CAAC,UAAU,CACtB,EAAE,CAAC,UAAU,CACb,IAAI,CAAC,UAAU,EACjB,cACF,cAAO,OAAO,CAAC,gBAAgB,EAAG,cAClC,cACI,IAAI,CAAC,UAAU,CACf,WAAW,CAAC,iBAAiB,CAC7B,EAAE,CAAC,gBAAgB,CACnB,IAAI,CAAC,gBAAgB,EACvB,cACF,eAAQ,IAAI,CAAC,QAAQ,sBAAkB,cACvC,UAAG,SAAS,CAAC,QAAQ,UAAEH,GAAG,EAAK,GAC5B,GACL,cACN,aAAK,SAAS,CAAC,cAAc,wBACzB,uCAAuB,cACvB,KAAC,IAAI,EAAC,EAAE,CAAC,GAAG,oBAAc,GACxB,GACJ,CAEd,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}