{"ast":null,"code":"import _objectSpread from\"C:/Users/lionKing/Desktop/todo-list-app-main/todo-list-app-main/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"C:/Users/lionKing/Desktop/todo-list-app-main/todo-list-app-main/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{collection,onSnapshot,orderBy,query}from\"firebase/firestore\";import{createContext,useEffect,useState}from\"react\";import{database}from\"../firebaseConfig\";import{jsx as _jsx}from\"react/jsx-runtime\";export var TodoContext=/*#__PURE__*/createContext();export var TodoContextProvider=function TodoContextProvider(_ref){var children=_ref.children;var _useState=useState([]),_useState2=_slicedToArray(_useState,2),todos=_useState2[0],setTodos=_useState2[1];useEffect(function(){var q=query(collection(database,'todos'),orderBy(\"timestamp\",\"desc\"));onSnapshot(q,function(snapshot){setTodos(snapshot.docs.map(function(item){return _objectSpread(_objectSpread({},item.data()),{},{id:item.id});}));});},[]);return/*#__PURE__*/_jsx(TodoContext.Provider,{value:{todos:todos},children:children});};","map":{"version":3,"names":["collection","onSnapshot","orderBy","query","createContext","useEffect","useState","database","TodoContext","TodoContextProvider","children","todos","setTodos","q","snapshot","docs","map","item","data","id"],"sources":["C:/Users/lionKing/Desktop/todo-list-app-main/todo-list-app-main/src/contexts/TodoContext.js"],"sourcesContent":["import { collection, onSnapshot, orderBy, query } from \"firebase/firestore\";\nimport { createContext, useEffect, useState } from \"react\";\nimport { database } from \"../firebaseConfig\";\n\nexport const TodoContext = createContext();\n\nexport const TodoContextProvider = ({ children }) => {\n    const [todos, setTodos] = useState([]);\n\n    useEffect(() => {\n        const q = query(collection(database, 'todos'), orderBy (\"timestamp\", \"desc\"))\n        onSnapshot(q, (snapshot) => {\n            setTodos(snapshot.docs.map((item) => {\n                return { ...item.data(), id: item.id }\n            }));\n        })\n    }, []);\n\n    return (\n        <TodoContext.Provider value={{ todos }}>\n            {children}\n        </TodoContext.Provider>\n    );\n}"],"mappings":"ySAAA,OAASA,UAAU,CAAEC,UAAU,CAAEC,OAAO,CAAEC,KAAK,KAAQ,oBAAoB,CAC3E,OAASC,aAAa,CAAEC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAC1D,OAASC,QAAQ,KAAQ,mBAAmB,CAAC,2CAE7C,MAAO,IAAMC,YAAW,cAAGJ,aAAa,EAAE,CAE1C,MAAO,IAAMK,oBAAmB,CAAG,QAAtBA,oBAAmB,MAAqB,IAAfC,SAAQ,MAARA,QAAQ,CAC1C,cAA0BJ,QAAQ,CAAC,EAAE,CAAC,wCAA/BK,KAAK,eAAEC,QAAQ,eAEtBP,SAAS,CAAC,UAAM,CACZ,GAAMQ,EAAC,CAAGV,KAAK,CAACH,UAAU,CAACO,QAAQ,CAAE,OAAO,CAAC,CAAEL,OAAO,CAAE,WAAW,CAAE,MAAM,CAAC,CAAC,CAC7ED,UAAU,CAACY,CAAC,CAAE,SAACC,QAAQ,CAAK,CACxBF,QAAQ,CAACE,QAAQ,CAACC,IAAI,CAACC,GAAG,CAAC,SAACC,IAAI,CAAK,CACjC,sCAAYA,IAAI,CAACC,IAAI,EAAE,MAAEC,EAAE,CAAEF,IAAI,CAACE,EAAE,GACxC,CAAC,CAAC,CAAC,CACP,CAAC,CAAC,CACN,CAAC,CAAE,EAAE,CAAC,CAEN,mBACI,KAAC,WAAW,CAAC,QAAQ,EAAC,KAAK,CAAE,CAAER,KAAK,CAALA,KAAM,CAAE,UAClCD,QAAQ,EACU,CAE/B,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}