{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\lionKing\\\\Desktop\\\\todo-list-app-main\\\\todo-list-app-main\\\\src\\\\components\\\\todos\\\\EditTodo.js\",\n  _s = $RefreshSig$();\nimport { doc, updateDoc } from \"firebase/firestore\";\nimport { useContext, useEffect, useState } from \"react\";\nimport { TodoContext } from \"../../contexts/TodoContext\";\nimport { database } from \"../../firebaseConfig\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const EditTodo = _ref => {\n  _s();\n  let {\n    todoId,\n    successfulEdit\n  } = _ref;\n  const [err, setErr] = useState('');\n  const {\n    todos\n  } = useContext(TodoContext);\n  const currentTodo = todos.find(todo => todo.id === todoId);\n  const [input, setInput] = useState(currentTodo.title);\n  useEffect(() => {\n    setInput(currentTodo.title);\n  }, [currentTodo.title]);\n  const onEditTodo = e => {\n    e.preventDefault();\n    if (input === '') {\n      setErr('Please add valid todo!');\n      return;\n    }\n    if (input.length > 25) {\n      setErr('Todo must be less then 25 characters!');\n      return;\n    }\n    updateDoc(doc(database, 'todos', todoId), {\n      title: input\n    }).then(() => {\n      successfulEdit();\n    }).catch(err => {\n      setErr(err.message);\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(\"section\", {\n    className: \"add__todo\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"ToDo App\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      className: \"add__todo__form\",\n      onSubmit: onEditTodo,\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        htmlFor: \"todo\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        id: \"todo\",\n        name: \"todo\",\n        value: input,\n        onChange: e => setInput(e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"add__todo__btn\",\n        children: \"Edit Task\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"errors\",\n        children: err\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 41,\n    columnNumber: 9\n  }, this);\n};\n_s(EditTodo, \"hTJS1nXakG7GPJPN26pSds/5QCY=\");\n_c = EditTodo;\nvar _c;\n$RefreshReg$(_c, \"EditTodo\");","map":{"version":3,"names":["doc","updateDoc","useContext","useEffect","useState","TodoContext","database","EditTodo","todoId","successfulEdit","err","setErr","todos","currentTodo","find","todo","id","input","setInput","title","onEditTodo","e","preventDefault","length","then","catch","message","target","value"],"sources":["C:/Users/lionKing/Desktop/todo-list-app-main/todo-list-app-main/src/components/todos/EditTodo.js"],"sourcesContent":["import { doc, updateDoc } from \"firebase/firestore\";\nimport { useContext, useEffect, useState } from \"react\";\nimport { TodoContext } from \"../../contexts/TodoContext\";\nimport { database } from \"../../firebaseConfig\";\n\nexport const EditTodo = ({ todoId, successfulEdit }) => {\n    const [err, setErr] = useState('');\n    const { todos } = useContext(TodoContext);\n    const currentTodo = todos.find(todo => todo.id === todoId);\n    const [input, setInput] = useState(currentTodo.title);\n\n    useEffect(() => {\n        setInput(currentTodo.title)\n    }, [currentTodo.title]);\n\n    const onEditTodo = (e) => {\n        e.preventDefault();\n\n        if (input === '') {\n            setErr('Please add valid todo!');\n            return;\n        }\n\n        if (input.length > 25) {\n            setErr('Todo must be less then 25 characters!');\n            return;\n        }\n\n        updateDoc(doc(database, 'todos', todoId), {\n            title: input\n        })\n            .then(() => {\n                successfulEdit();\n            })\n            .catch((err) => {\n                setErr(err.message);\n            })\n    }\n\n    return (\n        <section className=\"add__todo\">\n            <h1>ToDo App</h1>\n            <form className=\"add__todo__form\" onSubmit={onEditTodo}>\n                <label htmlFor=\"todo\"></label>\n                <input type=\"text\"\n                    id=\"todo\"\n                    name=\"todo\"\n                    value={input}\n                    onChange={(e) => setInput(e.target.value)} />\n                <button className=\"add__todo__btn\">Edit Task</button>\n                <p className=\"errors\">{err}</p>\n            </form>\n        </section>\n    );\n}"],"mappings":";;AAAA,SAASA,GAAG,EAAEC,SAAS,QAAQ,oBAAoB;AACnD,SAASC,UAAU,EAAEC,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AACvD,SAASC,WAAW,QAAQ,4BAA4B;AACxD,SAASC,QAAQ,QAAQ,sBAAsB;AAAC;AAEhD,OAAO,MAAMC,QAAQ,GAAG,QAAgC;EAAA;EAAA,IAA/B;IAAEC,MAAM;IAAEC;EAAe,CAAC;EAC/C,MAAM,CAACC,GAAG,EAAEC,MAAM,CAAC,GAAGP,QAAQ,CAAC,EAAE,CAAC;EAClC,MAAM;IAAEQ;EAAM,CAAC,GAAGV,UAAU,CAACG,WAAW,CAAC;EACzC,MAAMQ,WAAW,GAAGD,KAAK,CAACE,IAAI,CAACC,IAAI,IAAIA,IAAI,CAACC,EAAE,KAAKR,MAAM,CAAC;EAC1D,MAAM,CAACS,KAAK,EAAEC,QAAQ,CAAC,GAAGd,QAAQ,CAACS,WAAW,CAACM,KAAK,CAAC;EAErDhB,SAAS,CAAC,MAAM;IACZe,QAAQ,CAACL,WAAW,CAACM,KAAK,CAAC;EAC/B,CAAC,EAAE,CAACN,WAAW,CAACM,KAAK,CAAC,CAAC;EAEvB,MAAMC,UAAU,GAAIC,CAAC,IAAK;IACtBA,CAAC,CAACC,cAAc,EAAE;IAElB,IAAIL,KAAK,KAAK,EAAE,EAAE;MACdN,MAAM,CAAC,wBAAwB,CAAC;MAChC;IACJ;IAEA,IAAIM,KAAK,CAACM,MAAM,GAAG,EAAE,EAAE;MACnBZ,MAAM,CAAC,uCAAuC,CAAC;MAC/C;IACJ;IAEAV,SAAS,CAACD,GAAG,CAACM,QAAQ,EAAE,OAAO,EAAEE,MAAM,CAAC,EAAE;MACtCW,KAAK,EAAEF;IACX,CAAC,CAAC,CACGO,IAAI,CAAC,MAAM;MACRf,cAAc,EAAE;IACpB,CAAC,CAAC,CACDgB,KAAK,CAAEf,GAAG,IAAK;MACZC,MAAM,CAACD,GAAG,CAACgB,OAAO,CAAC;IACvB,CAAC,CAAC;EACV,CAAC;EAED,oBACI;IAAS,SAAS,EAAC,WAAW;IAAA,wBAC1B;MAAA;IAAA;MAAA;MAAA;MAAA;IAAA,QAAiB,eACjB;MAAM,SAAS,EAAC,iBAAiB;MAAC,QAAQ,EAAEN,UAAW;MAAA,wBACnD;QAAO,OAAO,EAAC;MAAM;QAAA;QAAA;QAAA;MAAA,QAAS,eAC9B;QAAO,IAAI,EAAC,MAAM;QACd,EAAE,EAAC,MAAM;QACT,IAAI,EAAC,MAAM;QACX,KAAK,EAAEH,KAAM;QACb,QAAQ,EAAGI,CAAC,IAAKH,QAAQ,CAACG,CAAC,CAACM,MAAM,CAACC,KAAK;MAAE;QAAA;QAAA;QAAA;MAAA,QAAG,eACjD;QAAQ,SAAS,EAAC,gBAAgB;QAAA;MAAA;QAAA;QAAA;QAAA;MAAA,QAAmB,eACrD;QAAG,SAAS,EAAC,QAAQ;QAAA,UAAElB;MAAG;QAAA;QAAA;QAAA;MAAA,QAAK;IAAA;MAAA;MAAA;MAAA;IAAA,QAC5B;EAAA;IAAA;IAAA;IAAA;EAAA,QACD;AAElB,CAAC;AAAA,GAjDYH,QAAQ;AAAA,KAARA,QAAQ;AAAA;AAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}